{"ast":null,"code":"var _jsxFileName = \"E:\\\\Workspace\\\\project-manager\\\\src\\\\pages\\\\FavoriteMovieListPage.js\";\nimport React, { Component } from \"react\";\nimport MovieItemComponent from \"../components/MovieItemComponent\";\nimport Footer from \"../components/Footer\";\nimport axios from \"axios\";\n\nclass FavoriteMovieListPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeStatus = id => {\n      console.log(\"movie id:\" + id);\n      this.state.listMovies.map((item, index) => {\n        if (index === id) {\n          item.isLiked = !item.isLiked;\n          console.log(\"status: \" + item.isLiked);\n          this.state.listMovies[id] = item;\n          this.setState({\n            listMovies: this.state.listMovies\n          });\n          localStorage.setItem(\"list\", JSON.stringify(this.state.listMovies));\n        }\n      });\n    };\n\n    this.state = {\n      listMovies: []\n    };\n    this.showListMovieLiked = this.showListMovieLiked.bind(this);\n  } // componentWillMount() {\n  //   let list = [];\n  //   list = JSON.parse(localStorage.getItem(\"list\"));\n  //   this.setState({\n  //     listMovies: list,\n  //   });\n  // }\n\n\n  componentWillMount() {\n    axios.get('http://localhost:5000/favorites').then(res => {\n      const favorites = [{\n        name: \"Joker (2019)\",\n        description: \"In Gotham City, mentally troubled comedian Arthur Fleck is disregarded and mistreated by society....\",\n        rateScore: 4,\n        actors: [],\n        releaseDate: \"21 February 2019 (Vietnam)\",\n        imageUrl: \"https://m.media-amazon.com/images/M/MV5BNGVjNWI4ZGUtNzE0MS00YTJmLWE0ZDctN2ZiYTk2YmI3NTYyXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_UX182_CR0,0,182,268_AL_.jpg\",\n        isLiked: false\n      }];\n      console.log(\"Hello\");\n      this.setState({\n        listMovies: favorites\n      });\n    });\n  }\n\n  showListMovieLiked(listMovies) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, listMovies != null ? listMovies.map((movie, index) => {\n      if (movie.isLiked) return /*#__PURE__*/React.createElement(MovieItemComponent, {\n        key: index,\n        id: index,\n        name: movie.name,\n        description: movie.description,\n        rateScore: movie.rateScore,\n        actors: movie.actors,\n        releaseDate: movie.releaseDate,\n        imageUrl: movie.imageUrl,\n        isLiked: movie.isLiked,\n        onUpdateStatus: this.onChangeStatus,\n        onChange: this.onChangeStatus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }\n      });\n    }) : \"\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, this.props.match.params.likedMovie === \"likedMovie\" ? this.showListMovieLiked(this.state.listMovies) : null), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default FavoriteMovieListPage;","map":{"version":3,"sources":["E:/Workspace/project-manager/src/pages/FavoriteMovieListPage.js"],"names":["React","Component","MovieItemComponent","Footer","axios","FavoriteMovieListPage","constructor","props","onChangeStatus","id","console","log","state","listMovies","map","item","index","isLiked","setState","localStorage","setItem","JSON","stringify","showListMovieLiked","bind","componentWillMount","get","then","res","favorites","name","description","rateScore","actors","releaseDate","imageUrl","movie","render","match","params","likedMovie"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport MovieItemComponent from \"../components/MovieItemComponent\";\r\nimport Footer from \"../components/Footer\";\r\nimport axios from \"axios\";\r\n\r\nclass FavoriteMovieListPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listMovies: [],\r\n    };\r\n    this.showListMovieLiked = this.showListMovieLiked.bind(this);\r\n  }\r\n  // componentWillMount() {\r\n  //   let list = [];\r\n  //   list = JSON.parse(localStorage.getItem(\"list\"));\r\n  //   this.setState({\r\n  //     listMovies: list,\r\n  //   });\r\n  // }\r\n\r\n  componentWillMount() {\r\n    axios.get('http://localhost:5000/favorites')\r\n      .then((res)=>{\r\n        const favorites = [{ name: \"Joker (2019)\",\r\n        description:\r\n          \"In Gotham City, mentally troubled comedian Arthur Fleck is disregarded and mistreated by society....\",\r\n        rateScore: 4,\r\n        actors: [],\r\n        releaseDate: \"21 February 2019 (Vietnam)\",\r\n        imageUrl:\r\n          \"https://m.media-amazon.com/images/M/MV5BNGVjNWI4ZGUtNzE0MS00YTJmLWE0ZDctN2ZiYTk2YmI3NTYyXkEyXkFqcGdeQXVyMTkxNjUyNQ@@._V1_UX182_CR0,0,182,268_AL_.jpg\",\r\n        isLiked: false,}]\r\n        console.log(\"Hello\")\r\n        this.setState({listMovies: favorites,});\r\n      })\r\n  }\r\n\r\n  onChangeStatus = (id) => {\r\n    console.log(\"movie id:\" + id);\r\n    this.state.listMovies.map((item, index) => {\r\n      if (index === id) {\r\n        item.isLiked = !item.isLiked;\r\n        console.log(\"status: \" + item.isLiked);\r\n        this.state.listMovies[id] = item;\r\n        this.setState({\r\n          listMovies: this.state.listMovies,\r\n        });\r\n\r\n        localStorage.setItem(\"list\", JSON.stringify(this.state.listMovies));\r\n      }\r\n    });\r\n  };\r\n  showListMovieLiked(listMovies) {\r\n    return (\r\n      <div>\r\n        {listMovies != null\r\n          ? listMovies.map((movie, index) => {\r\n              if (movie.isLiked)\r\n                return (\r\n                  <MovieItemComponent\r\n                    key={index}\r\n                    id={index}\r\n                    name={movie.name}\r\n                    description={movie.description}\r\n                    rateScore={movie.rateScore}\r\n                    actors={movie.actors}\r\n                    releaseDate={movie.releaseDate}\r\n                    imageUrl={movie.imageUrl}\r\n                    isLiked={movie.isLiked}\r\n                    onUpdateStatus={this.onChangeStatus}\r\n                    onChange={this.onChangeStatus}\r\n                  />\r\n                );\r\n            })\r\n          : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div>\r\n          {this.props.match.params.likedMovie === \"likedMovie\"\r\n            ? this.showListMovieLiked(this.state.listMovies)\r\n            : null}\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FavoriteMovieListPage;\r\n"]},"metadata":{},"sourceType":"module"}