{"ast":null,"code":"var _jsxFileName = \"E:\\\\Workspace\\\\project-manager\\\\client\\\\src\\\\pages\\\\FavoriteMovieListPage.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../components/header\";\nimport MovieItemComponent from \"../components/MovieItemComponent\";\nimport Footer from \"../components/Footer\";\nimport Axios from \"axios\";\n\nclass FavoriteMovieListPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeStatus = id => {\n      console.log(\"movie id:\" + id);\n      this.state.listMovies.map((item, index) => {\n        if (index === id) {\n          item.isLiked = !item.isLiked;\n          console.log(\"status: \" + item.isLiked);\n          this.state.listMovies[id] = item;\n          this.setState({\n            listMovies: this.state.listMovies\n          });\n          localStorage.setItem(\"list\", JSON.stringify(this.state.listMovies));\n        }\n      });\n    };\n\n    this.state = {\n      listMovies: [],\n      user: {},\n      loggedInStatus: \"LOGGED_IN\"\n    };\n    console.log(\"Constructor:\", this.props.loggedInStatus);\n    this.showListMovieLiked = this.showListMovieLiked.bind(this);\n  }\n\n  componentWillMount() {\n    let list = [];\n    var status = localStorage.getItem('Status');\n    console.log(status);\n    var info = localStorage.getItem('User');\n\n    if (status != null) {\n      this.setState({\n        loggedInStatus: status\n      });\n      this.setState({\n        user: info\n      });\n\n      if (status === \"LOGGED_IN\") {\n        this.setState({\n          noti: `Welcome, ${info.username}`\n        });\n      } else {\n        this.setState({\n          noti: \"Log in or create an account!\"\n        });\n      }\n    }\n\n    if (status === \"LOGGED_IN\") {\n      var user = localStorage.getItem('User');\n      Axios.get(`http://localhost:5000/get/${user.id}`).then(response => {\n        if (response.data.status === \"success\") {\n          list = response.data.list;\n        }\n      }).catch(error => {\n        list = [];\n        throw error;\n      });\n    } else {\n      list = JSON.parse(localStorage.getItem(\"list\"));\n    }\n\n    this.setState({\n      listMovies: list\n    });\n  }\n\n  showListMovieLiked(listMovies) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, listMovies != null ? listMovies.map((movie, index) => {\n      return /*#__PURE__*/React.createElement(MovieItemComponent, {\n        key: index,\n        id: index,\n        name: movie.name,\n        description: movie.description,\n        rateScore: movie.rateScore,\n        actors: movie.actors,\n        releaseDate: movie.releaseDate,\n        imageUrl: movie.imageUrl,\n        isLiked: movie.isLiked,\n        onUpdateStatus: this.onChangeStatus,\n        onChange: this.onChangeStatus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      });\n    }) : \"\");\n  }\n\n  render() {\n    var list = this.state.listMovies;\n    console.log(list[0]);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      state: this.props.loggedInStatus,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, this.showListMovieLiked(list)), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default FavoriteMovieListPage;","map":{"version":3,"sources":["E:/Workspace/project-manager/client/src/pages/FavoriteMovieListPage.js"],"names":["React","Component","Header","MovieItemComponent","Footer","Axios","FavoriteMovieListPage","constructor","props","onChangeStatus","id","console","log","state","listMovies","map","item","index","isLiked","setState","localStorage","setItem","JSON","stringify","user","loggedInStatus","showListMovieLiked","bind","componentWillMount","list","status","getItem","info","noti","username","get","then","response","data","catch","error","parse","movie","name","description","rateScore","actors","releaseDate","imageUrl","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Header from \"../components/header\";\r\nimport MovieItemComponent from \"../components/MovieItemComponent\";\r\nimport Footer from \"../components/Footer\";\r\nimport Axios from \"axios\";\r\n\r\nclass FavoriteMovieListPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listMovies: [\r\n      ],\r\n      user: {},\r\n      loggedInStatus: \"LOGGED_IN\"\r\n    };\r\n    console.log(\"Constructor:\" , this.props.loggedInStatus)\r\n    this.showListMovieLiked = this.showListMovieLiked.bind(this);\r\n  }\r\n  \r\n  componentWillMount() {\r\n    let list = [];\r\n    var status = localStorage.getItem('Status');\r\n    console.log(status)\r\n    var info = localStorage.getItem('User')\r\n    if (status != null){\r\n      this.setState({loggedInStatus: status})\r\n      this.setState({user: info})\r\n      if (status === \"LOGGED_IN\"){\r\n        this.setState({noti: `Welcome, ${info.username}`})\r\n      }else{\r\n        this.setState({noti: \"Log in or create an account!\"})\r\n      }\r\n    }\r\n    if (status === \"LOGGED_IN\") {\r\n      var user = localStorage.getItem('User');\r\n      Axios.get(`http://localhost:5000/get/${user.id}`)\r\n        .then(response => {\r\n          if (response.data.status === \"success\") {\r\n            list = response.data.list\r\n          }\r\n        })\r\n        .catch(error => {\r\n          list = []\r\n          throw error\r\n        })\r\n    } else {\r\n      list = JSON.parse(localStorage.getItem(\"list\"));\r\n    }\r\n    this.setState({\r\n      listMovies: list,\r\n    });\r\n  }\r\n\r\n  onChangeStatus = (id) => {\r\n    console.log(\"movie id:\" + id);\r\n    this.state.listMovies.map((item, index) => {\r\n      if (index === id) {\r\n        item.isLiked = !item.isLiked;\r\n        console.log(\"status: \" + item.isLiked);\r\n        this.state.listMovies[id] = item;\r\n        this.setState({\r\n          listMovies: this.state.listMovies,\r\n        });\r\n\r\n        localStorage.setItem(\"list\", JSON.stringify(this.state.listMovies));\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  showListMovieLiked(listMovies) {\r\n    return (\r\n      <div>\r\n        {listMovies != null\r\n          ? listMovies.map((movie, index) => {\r\n              return (\r\n                <MovieItemComponent\r\n                  key={index}\r\n                  id={index}\r\n                  name={movie.name}\r\n                  description={movie.description}\r\n                  rateScore={movie.rateScore}\r\n                  actors={movie.actors}\r\n                  releaseDate={movie.releaseDate}\r\n                  imageUrl={movie.imageUrl}\r\n                  isLiked={movie.isLiked}\r\n                  onUpdateStatus={this.onChangeStatus}\r\n                  onChange={this.onChangeStatus}\r\n                />\r\n              );\r\n          })\r\n          : \"\"}\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    var list = this.state.listMovies;\r\n    console.log(list[0])\r\n    return (\r\n      <div>\r\n        <Header state={this.props.loggedInStatus} />\r\n        <div>\r\n          {/* {this.props.match.params.likedMovie === \"likedMovie\" */}\r\n          {/* // ? this.showListMovieLiked(this.state.listMovies)  */}\r\n            {this.showListMovieLiked(list)}\r\n\r\n          {/* : null}  */}\r\n        </div>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FavoriteMovieListPage;\r\n"]},"metadata":{},"sourceType":"module"}