{"ast":null,"code":"var _jsxFileName = \"E:\\\\Workspace\\\\project-manager\\\\client\\\\src\\\\App.js\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport HomePage from \"./pages/HomePage\";\nimport MovieDetailComponent from \"./components/MovieDetailComponent\";\nimport FavoriteMovieListPage from \"./pages/FavoriteMovieListPage\";\nimport LoginComponent from \"./components/LoginComponent\";\nimport React, { Component } from \"react\";\nimport Recommended from \"./components/RecommendComponent\";\nimport LogOutCOmponent from \"./components/LogoutComponent\";\nimport Axios from 'axios';\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedInStatus: \"LOGGED_IN\",\n      user: {},\n      noti: \"Log in or create an account!\"\n    };\n    this.handleSuccessfulLogin = this.handleSuccessfulLogin.bind(this);\n    this.handleSuccessfullLogout = this.handleSuccessfullLogout(this);\n  }\n\n  componentWillMount() {\n    Axios.get(\"http://localhost:5000/api/logged_in\").then(response => {\n      this.setState({\n        loggedInStatus: response.data.status\n      });\n      this.setState({\n        user: response.data.user\n      });\n      if (response.data.status === \"LOGGED_IN\") this.setState({\n        noti: `Welcom, ${response.data.user.username}`\n      });else this.setState({\n        noti: \"Log in or create an user account!\"\n      });\n    }).catch(err => {\n      throw err;\n    });\n  }\n\n  getInitState() {\n    var status = localStorage.getItem('Status');\n    var user = localStorage.getItem('User');\n    return {\n      loggedInStatus: status,\n      user: user\n    };\n  }\n\n  handleSuccessfullLogout() {\n    localStorage.setItem('Status', \"LOGGED_OUT\");\n    localStorage.setItem('User', {});\n    this.setState({\n      loggedInStatus: \"LOGGED_OUT\",\n      user: {}\n    });\n    this.setState({\n      noti: \"Create an user or login!\"\n    });\n  }\n\n  handleSuccessfulLogin(data) {\n    localStorage.setItem('Status', data.loggedInStatus);\n    localStorage.setItem('User', data.user);\n    this.setState({\n      loggedInStatus: data.loggedInStatus,\n      user: data.user\n    });\n    this.setState({\n      noti: `Welcome, ${data.user.username}`\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, \"STATUS: \", this.state.loggedInStatus), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, this.state.noti), /*#__PURE__*/React.createElement(BrowserRouter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      render: props => /*#__PURE__*/React.createElement(HomePage, Object.assign({}, props, {\n        loggedInStatus: this.state.loggedInStatus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 54\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/:likedMovie\",\n      exact: true,\n      render: props => /*#__PURE__*/React.createElement(FavoriteMovieListPage, Object.assign({}, props, {\n        loggedInStatus: this.state.loggedInStatus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 34\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/movie/:id\",\n      exact: true,\n      component: MovieDetailComponent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login/form\",\n      exact: true,\n      render: props => /*#__PURE__*/React.createElement(LoginComponent, Object.assign({}, props, {\n        handleSuccessfulLogin: this.handleSuccessfulLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 33\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout/form\",\n      exact: true,\n      render: props => /*#__PURE__*/React.createElement(LogOutCOmponent, Object.assign({}, props, {\n        handleSuccessfullLogout: this.handleSuccessfullLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 31\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/recommend/movies\",\n      exact: true,\n      render: props => /*#__PURE__*/React.createElement(Recommended, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 34\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    })))));\n  }\n\n}","map":{"version":3,"sources":["E:/Workspace/project-manager/client/src/App.js"],"names":["BrowserRouter","Switch","Route","HomePage","MovieDetailComponent","FavoriteMovieListPage","LoginComponent","React","Component","Recommended","LogOutCOmponent","Axios","App","constructor","state","loggedInStatus","user","noti","handleSuccessfulLogin","bind","handleSuccessfullLogout","componentWillMount","get","then","response","setState","data","status","username","catch","err","getInitState","localStorage","getItem","setItem","render","props"],"mappings":"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","sourcesContent":["import { BrowserRouter, Switch, Route} from \"react-router-dom\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport MovieDetailComponent from \"./components/MovieDetailComponent\";\r\nimport FavoriteMovieListPage from \"./pages/FavoriteMovieListPage\";\r\nimport LoginComponent from \"./components/LoginComponent\"\r\nimport React, { Component } from \"react\";\r\nimport Recommended from \"./components/RecommendComponent\"\r\nimport LogOutCOmponent from \"./components/LogoutComponent\"\r\nimport Axios from 'axios';\r\n\r\nexport default class App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      loggedInStatus: \"LOGGED_IN\",\r\n      user: {},\r\n      noti: \"Log in or create an account!\"\r\n    }\r\n    this.handleSuccessfulLogin = this.handleSuccessfulLogin.bind(this);\r\n    this.handleSuccessfullLogout = this.handleSuccessfullLogout(this);\r\n  }\r\n\r\n  componentWillMount(){\r\n      Axios.get(\"http://localhost:5000/api/logged_in\")\r\n        .then(response => {\r\n          this.setState({ loggedInStatus: response.data.status })\r\n          this.setState({ user: response.data.user })\r\n          if (response.data.status === \"LOGGED_IN\")\r\n            this.setState({noti: `Welcom, ${response.data.user.username}`})\r\n          else\r\n            this.setState({noti: \"Log in or create an user account!\"})\r\n        })\r\n        .catch(err => {\r\n          throw err;\r\n        });\r\n    }\r\n  \r\n  getInitState(){\r\n    var status = localStorage.getItem('Status')\r\n    var user = localStorage.getItem('User')\r\n    return {loggedInStatus: status, user: user}\r\n  }\r\n\r\n  handleSuccessfullLogout(){\r\n    localStorage.setItem('Status', \"LOGGED_OUT\")\r\n    localStorage.setItem('User', {})\r\n    this.setState({loggedInStatus: \"LOGGED_OUT\", user: {}})\r\n    this.setState({noti: \"Create an user or login!\"})\r\n  }\r\n\r\n  handleSuccessfulLogin(data){\r\n    localStorage.setItem('Status', data.loggedInStatus)\r\n    localStorage.setItem('User', data.user)\r\n    this.setState({loggedInStatus: data.loggedInStatus, user: data.user})\r\n    this.setState({noti: `Welcome, ${data.user.username}`})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"container\">\r\n        <h3>STATUS: {this.state.loggedInStatus}</h3>\r\n        <h5>{this.state.noti}</h5>\r\n        <BrowserRouter>\r\n          <Switch>\r\n            <Route path=\"/\" exact render={(props) => <HomePage {...props} loggedInStatus={this.state.loggedInStatus}/>}></Route>\r\n            <Route\r\n              path=\"/:likedMovie\"\r\n              exact\r\n              render={(props) => <FavoriteMovieListPage {...props} loggedInStatus={this.state.loggedInStatus}/>}\r\n            ></Route>\r\n            <Route\r\n              path=\"/movie/:id\"\r\n              exact\r\n              component={MovieDetailComponent}\r\n            ></Route>\r\n            <Route\r\n              path={\"/login/form\"}\r\n              exact\r\n              render={(props) =><LoginComponent {...props} handleSuccessfulLogin={this.handleSuccessfulLogin} />}\r\n            ></Route>\r\n            <Route\r\n              path={\"/logout/form\"}\r\n              exact\r\n            render={(props) =><LogOutCOmponent {...props} handleSuccessfullLogout={this.handleSuccessfullLogout} />}              \r\n            ></Route>\r\n            <Route\r\n              path={\"/recommend/movies\"}\r\n              exact\r\n              render={(props) => <Recommended {...props}/>}\r\n            ></Route>\r\n          </Switch>\r\n        </BrowserRouter>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}